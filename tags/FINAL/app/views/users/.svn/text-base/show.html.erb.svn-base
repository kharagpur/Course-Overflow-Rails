<% provide(:title, @user.firstname + ' ' + @user.lastname)%>
<% content_for :javascript_includes do %>
    <%= javascript_include_tag "course-vote.js" %>
<% end %>
<div id="wrapper">
    <!--Begin Top Bar-->
    <!-- Begin Header -->
    <%= render 'layouts/common_header' %>
    <!-- End Header -->
    <!--End Top Bar-->
	<div id="profile">
        <div id="profile-pics">
            <%= image_tag("peter-zenger.jpeg", :alt => "Peter Zenger")%>
        </div>
        <div id="profile-info">
            <p id="profile-name"><%= @user.firstname %> <%= @user.lastname %></p>
            <p>Major: <%= @user.major %></p>
            <p>Academic Status: Under Graduate</p>
            <p>Overall Rating: B</p>
			<% if signed_in? and @current_user.id == @user.id %>
                <p><a href="#">Change Profile Picture</a></p>
                <p><a href="#">Change Password</a></p>
			<% end %>
        </div>
    </div>
    
    <div id="profile-body">
    <!--BEGIN CONTRIBUTION-->
		
        <p>Contributions</p>
		<% @def.each do |d| %>
            <div id="tuple">
                <!--NOTE: LINK DIRECTS TO THAT DISCUSSION PAGE-->
                <p id="question"><%= link_to "#{d.topic.course.title} - #{d.topic.title}", d.topic.course %></p>
                <div id="answer">
                    <p><%= d.description %></p>
                    <div id="component-score">
                        <div id="component-score-text">
                            <%= d.user.firstname %> <%= d.user.lastname %></a>
                        </div>
                        <div id="component-score-text">
                            <span><%= num_upvotes("definition", d.id) %></span>
                        <a href="/votes/definition/<%= d.id %>" title="Upvote" class="definition_upvote"><%= image_tag("thumbs-up.png", :alt => "Rate up")%></a>
                        </div>
                        <div id="component-score-text">
                          <span><%= num_downvotes("definition", d.id) %></span>
                        <a href="/votes/definition/<%= d.id %>" title="Downvote" class="definition_downvote"><%= image_tag("thumbs-down.png", :alt => "Rate down")%></a>
                        </div>
                    </div>
                </div>
            </div>
		<% end %>
		<% @analog.each do |a| %>
            <div id="tuple">
                <!--NOTE: LINK DIRECTS TO THAT DISCUSSION PAGE-->
                <p id="question"><%= link_to "#{a.topic.course.title} - #{a.topic.title}", a.topic.course %></p>
                <div id="answer">
                    <p><%= a.description %></p>
                    <div id="component-score">
                            <div id="component-score-text">
                                <a href="#"><%= a.user.firstname %> <%= a.user.lastname %></a>
                            </div>
                            <div id="component-score-text">
                               <span><%= num_upvotes("analogy", a.id) %></span>
                        <a href="/votes/analogy/<%= a.id %>" title="Upvote" class="analogy_upvote"><%= image_tag("thumbs-up.png", :alt => "Rate up")%></a>
                            </div>
                            <div id="component-score-text">
                               <span><%= num_downvotes("analogy", a.id) %></span>
                        <a href="/votes/analogy/<%= a.id %>" title="Downvote" class="analogy_downvote"><%= image_tag("thumbs-down.png", :alt => "Rate down")%></a>
                            </div>
                    </div>
                </div>
            </div>
        <% end %>
		<% @vid.each do |v| %>
            <div id="tuple">
                <!--NOTE: LINK DIRECTS TO THAT DISCUSSION PAGE-->
                <p id="question"><%= link_to "#{v.topic.course.title} - #{v.topic.title}", v.topic.course %></p>
                <div id="answer">
                    <div class="video-prev"><!--Insert video preview image here --><%= v.title %></div>
                    <div class="video-desc">
                        <p><%= v.description %></p>
                    </div>
                    <div id="component-score">
                        <div id="component-score-text">
                            <a href="#"><%= v.user.firstname %> <%= v.user.lastname %></a>
                        </div>
                        <div id="component-score-text">
                           <span><%= num_upvotes("video", v.id) %></span>
                        <a href="/votes/video/<%= v.id %>" title="Upvote" class="video_upvote"><%= image_tag("thumbs-up.png", :alt => "Rate up")%></a>
                        </div>
                        <div id="component-score-text">
                          <span><%= num_downvotes("video", v.id) %></span>
                        <a href="/votes/video/<%= v.id %>" title="Downvote" class="video_downvote"><%= image_tag("thumbs-down.png", :alt => "Rate down")%></a>
                        </div>
                    </div>
                </div>
            </div>
        <% end %>
		<!--END CONTRIBUTION-->
    </div>
    <!--End Body-->
</div>
